@ignore
Feature: 建立旅遊計畫

  Background:
    Given 系統中尚無任何旅遊計畫

  # ========== 前置條件 ==========

  Rule: 前置（狀態）- 計畫名稱不可重複

    Example: 計畫名稱已存在時建立失敗
      Given 系統中有以下旅遊計畫：
        | 計畫名稱       | 參與人數 |
        | 2024 東京自由行 | 2        |
      When 用戶 "Alice" 建立旅遊計畫：
        | 計畫名稱       | 參與人數 |
        | 2024 東京自由行 | 3        |
      Then 操作失敗
      And 錯誤訊息為 "計畫名稱已存在"

  Rule: 前置（參數）- 計畫名稱必須提供

    Example: 未提供計畫名稱時建立失敗
      When 用戶 "Alice" 建立旅遊計畫：
        | 計畫名稱 | 參與人數 |
        |          | 2        |
      Then 操作失敗
      And 錯誤訊息為 "計畫名稱必須提供"

  Rule: 前置（參數）- 參與人數必須大於等於 1

    Example: 參與人數為 0 時建立失敗
      When 用戶 "Alice" 建立旅遊計畫：
        | 計畫名稱       | 參與人數 |
        | 2024 東京自由行 | 0        |
      Then 操作失敗
      And 錯誤訊息為 "參與人數必須大於等於 1"

  Rule: 前置（參數）- 結束日期必須大於等於出發日期

    Example: 結束日期早於出發日期時建立失敗
      When 用戶 "Alice" 建立旅遊計畫：
        | 計畫名稱       | 出發日期   | 結束日期   | 參與人數 |
        | 2024 東京自由行 | 2024-05-10 | 2024-05-05 | 2        |
      Then 操作失敗
      And 錯誤訊息為 "結束日期必須大於等於出發日期"

  # ========== 後置條件 ==========

  Rule: 後置（狀態）- 系統應新增一筆旅遊計畫記錄

    Example: 成功建立旅遊計畫（完整資訊）
      When 用戶 "Alice" 建立旅遊計畫：
        | 計畫名稱       | 出發日期   | 結束日期   | 參與人數 | 預算上限 | 備註         |
        | 2024 東京自由行 | 2024-05-01 | 2024-05-07 | 2        | 50000    | 賞櫻之旅     |
      Then 操作成功
      And 系統中應有以下旅遊計畫：
        | 計畫名稱       | 出發日期   | 結束日期   | 參與人數 | 預算上限 | 備註         |
        | 2024 東京自由行 | 2024-05-01 | 2024-05-07 | 2        | 50000    | 賞櫻之旅     |

    Example: 成功建立旅遊計畫（僅必填欄位）
      When 用戶 "Alice" 建立旅遊計畫：
        | 計畫名稱       | 參與人數 |
        | 2024 東京自由行 | 2        |
      Then 操作成功
      And 系統中應有以下旅遊計畫：
        | 計畫名稱       | 參與人數 | 預算上限 |
        | 2024 東京自由行 | 2        |          |
